<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System Monitor Dashboard</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- 顶部导航栏 -->
    <header>
        <div class="logo-area">
            <h1>
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect>
                    <line x1="8" y1="21" x2="16" y2="21"></line>
                    <line x1="12" y1="17" x2="12" y2="21"></line>
                </svg>
                System Monitor
            </h1>
        </div>

        <div class="status-bar">
            <!-- 刷新间隔下拉框 -->
            <select id="refresh-select" class="refresh-select" title="刷新间隔">
                <option value="1000">1s</option>
                <option value="2000" selected>2s</option>
                <option value="5000">5s</option>
                <option value="10000">10s</option>
            </select>

            <!-- 状态时间 -->
            <span id="status-time">--</span>
            
            <div id="status-dot" class="status-dot"></div>
            <span id="status-text">初始化...</span>
            <div id="loading-spinner" class="loading-spinner"></div>
        </div>
    </header>

    <!-- 标签页导航 -->
    <nav class="tabs">
        <button class="tab-btn active" data-target="tab-system">系统概览</button>
        <button class="tab-btn" data-target="tab-network">网络连接</button>
    </nav>

    <!-- 内容区域 -->
    <main>
        <!-- 标签页 1: 系统概览 -->
        <section id="tab-system" class="tab-content active">
            
            <!-- 1. 顶部 Global/Total 汇总卡片 -->
            <div id="system-summary-grid" class="summary-grid">
                <!-- 动态生成汇总内容 -->
            </div>

            <hr class="separator">

            <!-- 2. 详细内容折叠区域 -->
            <div id="system-details-container" class="details-container">
                <!-- 动态生成 Storage, CPU, Memory 等折叠面板 -->
            </div>
        </section>

        <!-- 标签页 2: 网络连接 -->
        <section id="tab-network" class="tab-content">
            
            <!-- 1. 顶部 Counts 汇总 -->
            <div id="network-summary-grid" class="summary-grid">
                <!-- 动态生成 TCP/UDP 计数 -->
            </div>

            <hr class="separator">

            <!-- 2. 连接列表折叠区域 -->
            <div class="accordion-item">
                <div class="accordion-header" onclick="toggleAccordion(this)">
                    <h3>连接列表详情</h3>
                    <span class="toggle-icon">▼</span>
                </div>
                <div class="accordion-body">
                    <div class="table-responsive">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>协议</th>
                                    <th>源地址</th>
                                    <th>目标地址</th>
                                    <th>状态</th>
                                </tr>
                            </thead>
                            <tbody id="connection-table-body">
                                <!-- 动态生成行 -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <div id="toast-container"></div>
    <script src="app.js"></script>
</body>
</html>